#!/bin/sh

# vim: filetype=cron
#   ____ _   _ _____ ____ _  ___   _ ____  
#  / ___| | | | ____/ ___| |/ / | | |  _ \ 
# | |   | |_| |  _|| |   | ' /| | | | |_) |
# | |___|  _  | |__| |___| . \| |_| |  __/ 
#  \____|_| |_|_____\____|_|\_\\___/|_|    
#
# CRON: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
# –ù–∞–ø–∏—Å–∞–Ω: @alexandrovich.ff
# Website: http://malikov.red

ping -q -c 1 1.1.1.1 > /dev/null || exit

notify-send "üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è" "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π..."

sudo pacman -Syyuw --noconfirm || notify-send "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç—É. –ï—Å–ª–∏ pacman —É–∂–µ –∑–∞–ø—É—â–µ–Ω - –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ—à–∏–±–∫–∏."

if pacman -Qu | grep -v "\[ignored\]"
then
	notify-send "üéÅ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω" "üì¶ –ï—Å—Ç—å –ø–∞–∫–µ—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏."
else
	notify-send "üì¶ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω"  "üëå –°–∏—Å—Ç–µ–º–∞ –Ω–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏."
fi
