#!/bin/sh

# vim: filetype=i3blocks
#   ___  ____  _____ _   ___     ______  _   _ 
#  / _ \|  _ \| ____| \ | \ \   / /  _ \| \ | |
# | | | | |_) |  _| |  \| |\ \ / /| |_) |  \| |
# | |_| |  __/| |___| |\  | \ V / |  __/| |\  |
#  \___/|_|   |_____|_| \_|  \_/  |_|   |_| \_|
#                        
# Скрипт отображения активности VPN подключения
# Написан: @alexandrovich.ff
# Website: http://malikov.red

case $BLOCK_BUTTON in
    1) ::dmenuvpn
esac

result=$(nmcli -t -f type,state,connection d | egrep "^(tun|tap):connected" | awk -F':' '{ print $3 }')
[[ -z $result ]] && echo ' ВЫКЛ' || echo " $result"
