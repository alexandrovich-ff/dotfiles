#!/usr/bin/perl -w
#  ____  _     ___   ____ _  ___     ___ ____ _____ ____  
# | __ )| |   / _ \ / ___| |/ / |   |_ _/ ___|_   _/ ___| 
# |  _ \| |  | | | | |   | ' /| |    | |\___ \ | | \___ \ 
# | |_) | |__| |_| | |___| . \| |___ | | ___) || |  ___) |
# |____/|_____\___/ \____|_|\_\_____|___|____/ |_| |____/ 
# 
# Скрипт для конвертации списков блокировщиков рекламы
# для использования в qutebrowser
# Написан: @alexandrovich.ff
# Website: http://malikov.red

use strict;

my %hosts = ();
while ( <> ) {
    if ( $_ =~ m/^\|\|([a-z][a-z0-9-_.]+\.([a-z]{2,3}))\^\s*$/ ) {
        $hosts{$1} = 1;
    }
}

foreach my $host ( sort keys %hosts ) {
    print( "$host\n" );
}
